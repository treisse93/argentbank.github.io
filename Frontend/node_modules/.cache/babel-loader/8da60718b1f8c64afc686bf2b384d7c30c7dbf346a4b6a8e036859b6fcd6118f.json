{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\n\n// Create an authentication slice with initial state\nconst authSlice = createSlice({\n  name: \"auth\",\n  initialState: {\n    authenticated: false,\n    // Represents whether the user is authenticated\n    token: null,\n    // Stores the user's authentication token\n    keepLogging: false // Indicates if the user wants to keep logged in\n  },\n  reducers: {\n    // Action to set the user's authentication token\n    set_Token: (state, action) => {\n      state.token = action.payload;\n      const login = JSON.parse(localStorage.getItem(\"login\")) || {};\n      login.token = action.payload;\n      localStorage.setItem(\"login\", JSON.stringify(login));\n    },\n    // Action to set the authenticated state to true\n    set_IsAuth: state => {\n      state.authenticated = true;\n      const login = JSON.parse(localStorage.getItem(\"login\")) || {};\n      login.authenticated = true;\n      localStorage.setItem(\"login\", JSON.stringify(login));\n    },\n    // Action to set the keepLogging state\n    set_KeepLogging: (state, action) => {\n      state.keepLogging = action.payload;\n      const login = JSON.parse(localStorage.getItem(\"login\")) || {};\n      login.keepLogging = action.payload;\n      localStorage.setItem(\"login\", JSON.stringify(login));\n    },\n    // Action to set login state with token and keepLogging\n    set_Login: (state, action) => {\n      state.authenticated = true;\n      state.keepLogging = action.payload.keepLogging;\n      state.token = action.payload.token;\n      // Update the login state in local storage\n      localStorage.setItem(\"login\", JSON.stringify({\n        keepLogging: action.payload.keepLogging,\n        token: action.payload.token,\n        authenticated: true\n      }));\n    },\n    // Action to remove authentication data\n    remove_Auth: state => {\n      state.authenticated = false;\n      state.keepLogging = false;\n      state.token = null;\n\n      // Update the local storage to clear authentication data\n      localStorage.removeItem(\"login\");\n    }\n  }\n});\n\n// Export the reducer and actions\nexport default authSlice.reducer;\nexport const {\n  set_Token,\n  set_IsAuth,\n  set_KeepLogging,\n  remove_Auth,\n  set_Login\n} = authSlice.actions;","map":{"version":3,"names":["createSlice","authSlice","name","initialState","authenticated","token","keepLogging","reducers","set_Token","state","action","payload","login","JSON","parse","localStorage","getItem","setItem","stringify","set_IsAuth","set_KeepLogging","set_Login","remove_Auth","removeItem","reducer","actions"],"sources":["C:/Users/Phoenix/Documents/Developpeur_d_application_JavaScript_React/projet_13/argent_bank/Frontend/src/Redux/authReducer/authSlice.js"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\n\n// Create an authentication slice with initial state\nconst authSlice = createSlice({\n  name: \"auth\",\n  initialState: {\n    authenticated: false, // Represents whether the user is authenticated\n    token: null, // Stores the user's authentication token\n    keepLogging: false, // Indicates if the user wants to keep logged in\n  },\n  reducers: {\n    // Action to set the user's authentication token\n    set_Token: (state, action) => {\n      state.token = action.payload;\n      const login = JSON.parse(localStorage.getItem(\"login\")) || {};\n      login.token = action.payload;\n      localStorage.setItem(\"login\", JSON.stringify(login));\n    },\n\n    // Action to set the authenticated state to true\n    set_IsAuth: (state) => {\n      state.authenticated = true;\n      const login = JSON.parse(localStorage.getItem(\"login\")) || {};\n      login.authenticated = true;\n      localStorage.setItem(\"login\", JSON.stringify(login));\n    },\n\n    // Action to set the keepLogging state\n    set_KeepLogging: (state, action) => {\n      state.keepLogging = action.payload;\n      const login = JSON.parse(localStorage.getItem(\"login\")) || {};\n      login.keepLogging = action.payload;\n      localStorage.setItem(\"login\", JSON.stringify(login));\n    },\n\n    // Action to set login state with token and keepLogging\n    set_Login: (state, action) => {\n      state.authenticated = true;\n      state.keepLogging = action.payload.keepLogging;\n      state.token = action.payload.token;\n      // Update the login state in local storage\n      localStorage.setItem(\n        \"login\",\n        JSON.stringify({\n          keepLogging: action.payload.keepLogging,\n          token: action.payload.token,\n          authenticated: true,\n        })\n      );\n    },\n\n    // Action to remove authentication data\n    remove_Auth: (state) => {\n      state.authenticated = false;\n      state.keepLogging = false;\n      state.token = null;\n\n      // Update the local storage to clear authentication data\n      localStorage.removeItem(\"login\");\n    },\n  },\n});\n\n// Export the reducer and actions\nexport default authSlice.reducer;\nexport const {\n  set_Token,\n  set_IsAuth,\n  set_KeepLogging,\n  remove_Auth,\n  set_Login,\n} = authSlice.actions;\n"],"mappings":"AAAA,SAASA,WAAW,QAAQ,kBAAkB;;AAE9C;AACA,MAAMC,SAAS,GAAGD,WAAW,CAAC;EAC5BE,IAAI,EAAE,MAAM;EACZC,YAAY,EAAE;IACZC,aAAa,EAAE,KAAK;IAAE;IACtBC,KAAK,EAAE,IAAI;IAAE;IACbC,WAAW,EAAE,KAAK,CAAE;EACtB,CAAC;EACDC,QAAQ,EAAE;IACR;IACAC,SAAS,EAAEA,CAACC,KAAK,EAAEC,MAAM,KAAK;MAC5BD,KAAK,CAACJ,KAAK,GAAGK,MAAM,CAACC,OAAO;MAC5B,MAAMC,KAAK,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,CAAC;MAC7DJ,KAAK,CAACP,KAAK,GAAGK,MAAM,CAACC,OAAO;MAC5BI,YAAY,CAACE,OAAO,CAAC,OAAO,EAAEJ,IAAI,CAACK,SAAS,CAACN,KAAK,CAAC,CAAC;IACtD,CAAC;IAED;IACAO,UAAU,EAAGV,KAAK,IAAK;MACrBA,KAAK,CAACL,aAAa,GAAG,IAAI;MAC1B,MAAMQ,KAAK,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,CAAC;MAC7DJ,KAAK,CAACR,aAAa,GAAG,IAAI;MAC1BW,YAAY,CAACE,OAAO,CAAC,OAAO,EAAEJ,IAAI,CAACK,SAAS,CAACN,KAAK,CAAC,CAAC;IACtD,CAAC;IAED;IACAQ,eAAe,EAAEA,CAACX,KAAK,EAAEC,MAAM,KAAK;MAClCD,KAAK,CAACH,WAAW,GAAGI,MAAM,CAACC,OAAO;MAClC,MAAMC,KAAK,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,CAAC;MAC7DJ,KAAK,CAACN,WAAW,GAAGI,MAAM,CAACC,OAAO;MAClCI,YAAY,CAACE,OAAO,CAAC,OAAO,EAAEJ,IAAI,CAACK,SAAS,CAACN,KAAK,CAAC,CAAC;IACtD,CAAC;IAED;IACAS,SAAS,EAAEA,CAACZ,KAAK,EAAEC,MAAM,KAAK;MAC5BD,KAAK,CAACL,aAAa,GAAG,IAAI;MAC1BK,KAAK,CAACH,WAAW,GAAGI,MAAM,CAACC,OAAO,CAACL,WAAW;MAC9CG,KAAK,CAACJ,KAAK,GAAGK,MAAM,CAACC,OAAO,CAACN,KAAK;MAClC;MACAU,YAAY,CAACE,OAAO,CAClB,OAAO,EACPJ,IAAI,CAACK,SAAS,CAAC;QACbZ,WAAW,EAAEI,MAAM,CAACC,OAAO,CAACL,WAAW;QACvCD,KAAK,EAAEK,MAAM,CAACC,OAAO,CAACN,KAAK;QAC3BD,aAAa,EAAE;MACjB,CAAC,CACH,CAAC;IACH,CAAC;IAED;IACAkB,WAAW,EAAGb,KAAK,IAAK;MACtBA,KAAK,CAACL,aAAa,GAAG,KAAK;MAC3BK,KAAK,CAACH,WAAW,GAAG,KAAK;MACzBG,KAAK,CAACJ,KAAK,GAAG,IAAI;;MAElB;MACAU,YAAY,CAACQ,UAAU,CAAC,OAAO,CAAC;IAClC;EACF;AACF,CAAC,CAAC;;AAEF;AACA,eAAetB,SAAS,CAACuB,OAAO;AAChC,OAAO,MAAM;EACXhB,SAAS;EACTW,UAAU;EACVC,eAAe;EACfE,WAAW;EACXD;AACF,CAAC,GAAGpB,SAAS,CAACwB,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}