{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Phoenix\\\\Documents\\\\Developpeur_d_application_JavaScript_React\\\\projet_13\\\\argent_bank\\\\Frontend\\\\src\\\\pages\\\\PrivateRoutes\\\\ProfilePage\\\\titleForm\\\\titleForm.jsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport \"../../../../sass/pages/userPage/TitleForm.scss\";\nimport { put_UserNewInfos } from \"../../../../services/login.service.js\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { set_FirstName, set_LastName } from \"../../../../Redux/userReducer/userSlice.js\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function TitleForm({\n  showSaveNameBtn,\n  showCancelBtn,\n  showEditNameBtn,\n  showTitle,\n  showForm,\n  EditNameBtn,\n  Cancel_Btn\n}) {\n  _s();\n  const firstName = useSelector(state => state.user.firstName);\n  const lastName = useSelector(state => state.user.lastName);\n  const token = useSelector(state => state.login.token);\n  const [firstNameState, setfirstNameState] = useState(firstName);\n  const [lastNameState, setlastNameState] = useState(lastName);\n  const dispatch = useDispatch();\n\n  // Function to handle updating the user's name\n  async function handle_UpdateName(e) {\n    e.preventDefault();\n    try {\n      // Call the API to update user information\n      await put_UserNewInfos(token, firstNameState, lastNameState);\n      dispatch(set_FirstName(firstNameState));\n      dispatch(set_LastName(lastNameState));\n\n      // Call the Cancel_Btn function to hide the form and show the title\n      Cancel_Btn();\n    } catch (error) {\n      console.error(\"Failed to update user information:\", error);\n    }\n  }\n\n  // Update state when user data changes\n  useEffect(() => {\n    setfirstNameState(firstName);\n    setlastNameState(lastName);\n  }, [firstName, lastName]);\n  const handleCancel = () => {\n    setfirstNameState(firstName);\n    setLastNameState(lastName);\n    Cancel_Btn();\n  };\n\n  // Determine CSS classes for various elements based on their visibility\n  const saveNameBtn = showSaveNameBtn === \"visible\" ? \"visible\" : \"hidden\";\n  const title = showTitle === \"visible\" ? \"visible \" : \"hidden\";\n  const editNameBtn = showEditNameBtn === \"visible\" ? \"visible\" : \"hidden\";\n  const cancelBtn = showCancelBtn === \"visible\" ? \"visible\" : \"hidden\";\n  const form = showForm === \"visible\" ? \"visible\" : \"hidden\";\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"userPageTitle\",\n      children: [\"Welcome back\", /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"userTitleName\",\n        className: `$\"userTitleName\" ${title}`,\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"firstName\",\n          children: [`${firstNameState}`, \"\\xA0\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"lastName\",\n          children: [`${lastNameState}`, \"\\xA0!\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        id: \"userTitleForm\",\n        className: `$\"userTitleForm\" ${form}`,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"userTitleButtonContainer\",\n          className: \"userTitleInputContainer\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            id: \"firstName\",\n            placeholder: firstNameState,\n            className: \"userTitleInput\",\n            onChange: e => {\n              if (e.target.value.trim() !== \"\") {\n                setfirstNameState(e.target.value);\n              }\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            id: \"lastName\",\n            placeholder: lastNameState,\n            className: \"userTitleInput\",\n            onChange: e => {\n              if (e.target.value.trim() !== \"\") {\n                setlastNameState(e.target.value);\n              }\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"userTitleButtonContainer\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: `$\"userTitleButton\" ${saveNameBtn}`,\n            type: \"submit\",\n            onClick: handle_UpdateName,\n            children: \"Save\"\n          }, Math.random(), false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: `$\"userTitleButton\" ${cancelBtn}`,\n            type: \"reset\",\n            onClick: handleCancel,\n            children: \"Cancel\"\n          }, Math.random(), false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"editNameBtnContainer\",\n      className: `${editNameBtn} $\"editNameBtnContainer\"`,\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        id: \"editNameBtn\",\n        className: \"button\",\n        onClick: EditNameBtn,\n        children: \"Edit Name\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(TitleForm, \"vlCIie/ZANgnuFPKaDdWVMnL938=\", false, function () {\n  return [useSelector, useSelector, useSelector, useDispatch];\n});\n_c = TitleForm;\nvar _c;\n$RefreshReg$(_c, \"TitleForm\");","map":{"version":3,"names":["useEffect","useState","put_UserNewInfos","useDispatch","useSelector","set_FirstName","set_LastName","jsxDEV","_jsxDEV","Fragment","_Fragment","TitleForm","showSaveNameBtn","showCancelBtn","showEditNameBtn","showTitle","showForm","EditNameBtn","Cancel_Btn","_s","firstName","state","user","lastName","token","login","firstNameState","setfirstNameState","lastNameState","setlastNameState","dispatch","handle_UpdateName","e","preventDefault","error","console","handleCancel","setLastNameState","saveNameBtn","title","editNameBtn","cancelBtn","form","children","className","id","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","onChange","target","value","trim","onClick","Math","random","_c","$RefreshReg$"],"sources":["C:/Users/Phoenix/Documents/Developpeur_d_application_JavaScript_React/projet_13/argent_bank/Frontend/src/pages/PrivateRoutes/ProfilePage/titleForm/titleForm.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport \"../../../../sass/pages/userPage/TitleForm.scss\";\nimport { put_UserNewInfos } from \"../../../../services/login.service.js\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n  set_FirstName,\n  set_LastName,\n} from \"../../../../Redux/userReducer/userSlice.js\";\n\nexport default function TitleForm({\n  showSaveNameBtn,\n  showCancelBtn,\n  showEditNameBtn,\n  showTitle,\n  showForm,\n  EditNameBtn,\n  Cancel_Btn,\n}) {\n  const firstName = useSelector((state) => state.user.firstName);\n  const lastName = useSelector((state) => state.user.lastName);\n  const token = useSelector((state) => state.login.token);\n\n  const [firstNameState, setfirstNameState] = useState(firstName);\n  const [lastNameState, setlastNameState] = useState(lastName);\n  const dispatch = useDispatch();\n\n  // Function to handle updating the user's name\n  async function handle_UpdateName(e) {\n    e.preventDefault();\n    try {\n      // Call the API to update user information\n      await put_UserNewInfos(token, firstNameState, lastNameState);\n\n      dispatch(set_FirstName(firstNameState));\n      dispatch(set_LastName(lastNameState));\n\n      // Call the Cancel_Btn function to hide the form and show the title\n      Cancel_Btn();\n    } catch (error) {\n      console.error(\"Failed to update user information:\", error);\n    }\n  }\n\n  // Update state when user data changes\n  useEffect(() => {\n    setfirstNameState(firstName);\n    setlastNameState(lastName);\n  }, [firstName, lastName]);\n\n  const handleCancel = () => {\n    setfirstNameState(firstName);\n    setLastNameState(lastName);\n    Cancel_Btn();\n  };\n\n  // Determine CSS classes for various elements based on their visibility\n  const saveNameBtn = showSaveNameBtn === \"visible\" ? \"visible\" : \"hidden\";\n  const title = showTitle === \"visible\" ? \"visible \" : \"hidden\";\n  const editNameBtn = showEditNameBtn === \"visible\" ? \"visible\" : \"hidden\";\n  const cancelBtn = showCancelBtn === \"visible\" ? \"visible\" : \"hidden\";\n  const form = showForm === \"visible\" ? \"visible\" : \"hidden\";\n\n  return (\n    <>\n      {/* Title and User Name */}\n      <h1 className=\"userPageTitle\">\n        Welcome back\n        {/* Display User Name */}\n        <div id=\"userTitleName\" className={`$\"userTitleName\" ${title}`}>\n          <span className=\"firstName\">{`${firstNameState}`}&nbsp;</span>\n          <span className=\"lastName\">{`${lastNameState}`}&nbsp;!</span>\n        </div>\n        {/* Form for Editing User Name */}\n        <form id=\"userTitleForm\" className={`$\"userTitleForm\" ${form}`}>\n          {/* Input Fields for First Name and Last Name */}\n          <div\n            id=\"userTitleButtonContainer\"\n            className=\"userTitleInputContainer\"\n          >\n            <input\n              type=\"text\"\n              id=\"firstName\"\n              placeholder={firstNameState}\n              className=\"userTitleInput\"\n              onChange={(e) => {\n                if (e.target.value.trim() !== \"\") {\n                  setfirstNameState(e.target.value);\n                }\n              }}\n            />\n            <input\n              type=\"text\"\n              id=\"lastName\"\n              placeholder={lastNameState}\n              className=\"userTitleInput\"\n              onChange={(e) => {\n                if (e.target.value.trim() !== \"\") {\n                  setlastNameState(e.target.value);\n                }\n              }}\n            />\n          </div>\n          {/* Buttons for Save and Cancel */}\n          <div className=\"userTitleButtonContainer\">\n            <button\n              key={Math.random()}\n              className={`$\"userTitleButton\" ${saveNameBtn}`}\n              type=\"submit\"\n              onClick={handle_UpdateName}\n            >\n              Save\n            </button>\n            <button\n              key={Math.random()}\n              className={`$\"userTitleButton\" ${cancelBtn}`}\n              type=\"reset\"\n              onClick={handleCancel}\n            >\n              Cancel\n            </button>\n          </div>\n        </form>\n      </h1>\n\n      {/* Edit Button */}\n      <div\n        id=\"editNameBtnContainer\"\n        className={`${editNameBtn} $\"editNameBtnContainer\"`}\n      >\n        <button id=\"editNameBtn\" className=\"button\" onClick={EditNameBtn}>\n          Edit Name\n        </button>\n      </div>\n    </>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}